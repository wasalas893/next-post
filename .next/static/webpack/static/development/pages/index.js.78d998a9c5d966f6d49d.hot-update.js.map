{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.78d998a9c5d966f6d49d.hot-update.js","sources":["webpack:///./components/index/UserFeed.js"],"sourcesContent":["import Divider from \"@material-ui/core/Divider\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Button from \"@material-ui/core/Button\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport AccountBox from \"@material-ui/icons/AccountBox\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nimport Link from 'next/link';\n\nimport { getUserFeed,followUser } from '../../lib/api';\n\nclass UserFeed extends React.Component {\n  state = {\n    users:[]\n  };\n\n  componentDidMount(){\n    const { auth }=this.props;\n\n    getUserFeed(auth.user._id).then(users=>this.setState({ users }))\n\n\n  }\n  handleFollow=(user,userIndex)=>{\n    followUser(user._id).then(user=>{\n      const updatedUsers=[\n        ...this.state.users.slice(0,userIndex),\n        ...this.state.users.splice(userIndex + 1)\n      ]\n      this.setState({\n        users:upda\n      })\n    })\n  }\n\n  render() {\n\n    const { classes }=this.props;\n    const { users }=this.state;\n\n    return (\n      <div>\n      <Typography type=\"title\" variant=\"h6\" component=\"h2\" align=\"center\">\n      Browse Users\n\n      </Typography>\n      <Divider/>\n     <List>\n       {users.map((user,i)=>(\n         <span key={user._id}>\n           <ListItem>\n             <ListItemAvatar className={classes.avatar}>\n               <Avatar src={user.avatar}/>\n             </ListItemAvatar>\n             <ListItemText primary={user.name}/>\n             <ListItemSecondaryAction className={classes.follow}>\n               <Link href={`/profile/${user._id}`}>\n               <IconButton variant=\"contained\" color=\"secondary\" className={classes.viewButton}>\n\n                 <AccountBox/>\n               </IconButton>\n\n               </Link>\n               <Button variant=\"contained\" color=\"primary\" onClick={()=>this.handleFollow(user,i)}>\n\n                 Follow\n            \n               </Button>\n             </ListItemSecondaryAction>\n           </ListItem>\n         </span>\n       ))}\n     </List>\n\n     </div>\n\n    );\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    padding: theme.spacing.unit\n  },\n  avatar: {\n    marginRight: theme.spacing.unit\n  },\n  follow: {\n    right: theme.spacing.unit * 2\n  },\n  snack: {\n    color: theme.palette.primary.light\n  },\n  viewButton: {\n    verticalAlign: \"middle\"\n  }\n});\n\nexport default withStyles(styles)(UserFeed);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;AAUA;AACA;AACA;AACA;AAGA;AACA;AADA;AAGA;AACA;AACA;;;;;;AAlBA;AAAA;AACA;AADA;AAGA;AAAA;AAAA;AAAA;AAAA;AAGA;;;AAaA;AAAA;AACA;AADA;AAAA;AAKA;AAEA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAMA;AAAA;AAAA;AAAA;AAAA;AAAA;AAfA;AA6BA;;;;AAlEA;AACA;AAoEA;AAAA;AACA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AADA;AAbA;AAAA;AACA;AAiBA;;;;A","sourceRoot":""}