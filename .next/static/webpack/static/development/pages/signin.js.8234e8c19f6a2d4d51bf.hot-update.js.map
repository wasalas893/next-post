{"version":3,"file":"static/webpack/static\\development\\pages\\signin.js.8234e8c19f6a2d4d51bf.hot-update.js","sources":["webpack:///./pages/signin.js"],"sourcesContent":["import Typography from \"@material-ui/core/Typography\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Input from \"@material-ui/core/Input\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport Button from \"@material-ui/core/Button\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport Lock from \"@material-ui/icons/Lock\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nimport Router from 'next/router';\n\nimport { signinUser } from '../lib/auth';\n\nclass Signin extends React.Component {\n  state = {\n\n    email: \"\",\n    password: \"\",\n    error: \"\",\n    openError: false,\n    isLoading: false\n  };\n\n  handleClose = () => this.setState({ openError: false });\n\n  handleChange = event => {\n    this.setState({ [event.target.name]: event.target.value });\n  };\n\n  handleSubmit = event => {\n    const { email, password } = this.state;\n\n    event.preventDefault();\n    const user = {  email, password };\n    this.setState({ isLoading: true, error: \"\" });\n    signinUser(user)\n      .then(()=>{\n        Router.push('/')\n\n      })\n      .catch(this.showError);\n  };\n\n  showError = err => {\n    const error = (err.response && err.response.data) || err.message;\n    this.setState({ error, openError: true, isLoading: false });\n  };\n\n  render() {\n    const { classes } = this.props;\n    const {\n      error,\n      openError,\n      \n      \n      isLoading\n    } = this.state;\n\n    return (\n      <div className={classes.root}>\n        <Paper className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <Lock />\n          </Avatar>\n          <Typography variant=\"h5\" component=\"h1\">\n            Sign In\n          </Typography>\n\n          <form onSubmit={this.handleSubmit} className={classes.form}>\n            \n            <FormControl margin=\"normal\" required fullWidth>\n              <InputLabel htmlFor=\"email\">Email</InputLabel>\n              <Input name=\"email\" type=\"email\" onChange={this.handleChange} />\n            </FormControl>\n            <FormControl margin=\"normal\" required fullWidth>\n              <InputLabel htmlFor=\"password\">Password</InputLabel>\n              <Input\n                name=\"password\"\n                type=\"password\"\n                onChange={this.handleChange}\n              />\n            </FormControl>\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              disabled={isLoading}\n              className={classes.submit}\n            >\n              {isLoading ? \"Signing in...\" : \"Sign in\"}\n            </Button>\n          </form>\n\n          {/* Error Snackbar */}\n          {error && (\n            <Snackbar\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"right\"\n              }}\n              open={openError}\n              onClose={this.handleClose}\n              autoHideDuration={6000}\n              message={<span className={classes.snack}>{error}</span>}\n            />\n          )}\n        </Paper>\n\n      \n      </div>\n    );\n  }\n\n}\n\nconst styles = theme => ({\n  root: {\n    width: \"auto\",\n    display: \"block\",\n    marginLeft: theme.spacing.unit * 3,\n    marginRight: theme.spacing.unit * 3,\n    [theme.breakpoints.up(\"md\")]: {\n      width: 400,\n      marginLeft: \"auto\",\n      marginRight: \"auto\"\n    }\n  },\n  paper: {\n    marginTop: theme.spacing.unit * 8,\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n    padding: theme.spacing.unit * 2\n  },\n  avatar: {\n    margin: theme.spacing.unit,\n    backgroundColor: theme.palette.secondary.main\n  },\n  form: {\n    width: \"100%\",\n    marginTop: theme.spacing.unit\n  },\n  submit: {\n    marginTop: theme.spacing.unit * 2\n  },\n  snack: {\n    color: theme.palette.secondary.light\n  }\n});\n\nexport default withStyles(styles)(Signin);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;AACA;AAEA;AACA;AACA;AACA;AACA;AANA;AACA;AAQA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAGA;AAAA;AAAA;AAIA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AAOA;AACA;AACA;AACA;AACA;AACA;AANA;AAeA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AAAA;AARA;AAgBA;;;;AAnGA;AACA;AAsGA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAHA;AAMA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AADA;AAGA;AACA;AADA;AA9BA;AAAA;AACA;AAkCA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}