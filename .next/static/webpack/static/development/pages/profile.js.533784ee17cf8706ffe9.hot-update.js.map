{"version":3,"file":"static/webpack/static\\development\\pages\\profile.js.533784ee17cf8706ffe9.hot-update.js","sources":["webpack:///./pages/profile.js"],"sourcesContent":["import Paper from \"@material-ui/core/Paper\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport ListItemSecondaryAction from \"@material-ui/core/ListItemSecondaryAction\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport Typography from \"@material-ui/core/Typography\";\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\nimport Divider from \"@material-ui/core/Divider\";\nimport Edit from \"@material-ui/icons/Edit\";\nimport withStyles from \"@material-ui/core/styles/withStyles\";\n\nimport { authInitialProps } from \"../lib/auth\";\nimport { getUser } from '../lib/api';\n\nimport Link from 'next/link';\n\nimport FollowUser from '../components/profile/FollowUser';\n\nclass Profile extends React.Component {\n  state = {\n    user:null,\n    isAuth:false,\n    isFollowing:false,\n    isLoading:true\n  };\n\n  componentDidMount(){\n    const { userId,auth }=this.props;\n\n    const isAuth=auth.user._id===userId;\n\n    getUser(userId).then(user=>{\n      const isFollowing=this.checkFollow(auth,user)\n      this.setState({\n           user,\n           isAuth,\n           isFollowing,\n           isLoading:false\n      })\n    });\n  }\n  checkFollow=(auth,user)=>{\n    return user.followers.findIndex(follower=>follower._id==auth.user._id)>-1\n  }\n  toggleFollow=sendRequest=>{\n    const { auth,userId }=this.props;\n    const { isFollowing }=th\n  }\n\n  render() {\n    const {classes}=this.props;\n    const { isLoading,user,isAuth,isFollowing }=this.state;\n    \n    return (\n      <Paper className={classes.root} elevation={4}>\n        <Typography\n        variant=\"h4\"\n        component=\"h1\"\n        align=\"center\"\n        className={classes.title}\n        gutterBottom\n        >\n        Profile\n        </Typography>\n        {isLoading ? (\n          <div className={classes.progressContainer}>\n            <CircularProgress\n              className={classes.progress}\n              size={55}\n              thickness={5}\n            />\n          </div>\n        ):(\n          <List dense>\n\n            <ListItem>\n              <ListItemAvatar>\n                <Avatar\n                  src={user.avatar}\n                  className={classes.bigAvatar}\n                />\n              </ListItemAvatar>\n              <ListItemText primary={user.name} secondary={user.email} />\n              \n              {isAuth ?(\n                <ListItemSecondaryAction>\n                  <Link href=\"/edit-profile\">\n                    <IconButton color=\"primary\">\n                      <Edit/>\n                    </IconButton>\n                  </Link>\n                </ListItemSecondaryAction>\n              ):(\n                <FollowUser\n                  isFollowing={isFollowing}\n                />\n              )}\n              \n              \n            </ListItem>\n\n            <Divider/>\n            <ListItem>\n              <ListItemText \n                primary={user.name}\n                secondary={`Joined:${user.createdAt}`}\n              />\n            </ListItem>\n          </List>\n        ) }\n      </Paper>\n    );\n  }\n}\n\nconst styles = theme => ({\n  root: {\n    padding: theme.spacing.unit * 3,\n    marginTop: theme.spacing.unit * 5,\n    margin: \"auto\",\n    [theme.breakpoints.up(\"sm\")]: {\n      width: 600\n    }\n  },\n  title: {\n    color: theme.palette.primary.main\n  },\n  progress: {\n    margin: theme.spacing.unit * 2\n  },\n  progressContainer: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\",\n    flexDirection: \"column\"\n  },\n  bigAvatar: {\n    width: 60,\n    height: 60,\n    margin: 10\n  }\n});\nProfile.getInitialProps=authInitialProps(true);\n\nexport default withStyles(styles)(Profile);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;AACA;AACA;AACA;AACA;AACA;AAJA;AACA;AAqBA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;;;;;;AAtBA;AAAA;AACA;AADA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;;;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AALA;AAUA;AAAA;AAEA;AACA;AACA;AAHA;AAOA;AAAA;AAKA;AACA;AAFA;AAKA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAOA;AADA;AAWA;AACA;AAFA;AASA;;;;AA9FA;AACA;AAgGA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AADA;AAIA;AACA;AADA;AAGA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AAHA;AArBA;AAAA;AACA;AA0BA;AAEA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}